/**
 * Улучшает типографику текста, заменяя обычные символы на правильные
 */
export function enhanceTypography(text: string): string {
  if (!text) return text;

  return text
    // Кавычки
    .replace(/"/g, '«')
    .replace(/"/g, '»')
    .replace(/"([^"]+)"/g, '«$1»')
    
    // Тире и дефисы
    .replace(/(\s)--(\s)/g, '$1—$2') // двойной дефис в тире
    .replace(/(\s)-(\s)/g, '$1—$2') // одиночный дефис между словами в тире
    .replace(/(\d+)-(\d+)/g, '$1–$2') // дефис между числами в короткое тире
    
    // Многоточие
    .replace(/\.\.\./g, '…')
    
    // Неразрывные пробелы
    .replace(/(\d+)\s+(год|года|лет|руб|₽|%)/g, '$1\u00A0$2')
    .replace(/([а-яА-Я]{1,2})\s+/g, '$1\u00A0')
    
    // Номера и параграфы
    .replace(/№\s*(\d+)/g, '№\u00A0$1')
    .replace(/§\s*(\d+)/g, '§\u00A0$1')
    
    // Множественные пробелы
    .replace(/\s{2,}/g, ' ');
}
